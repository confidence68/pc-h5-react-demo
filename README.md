# React å…¨æ ˆå­¦ä¹ é¡¹ç›®é›† ğŸ“

> ç¬¬äº”æœŸå‰ç«¯è®­ç»ƒè¥ - React å­¦ä¹ èµ„æ–™æ±‡æ€»

æœ¬ä»“åº“åŒ…å«ä¸‰ä¸ªå¾ªåºæ¸è¿›çš„ React å­¦ä¹ é¡¹ç›®ï¼Œä»åŸºç¡€åˆ°è¿›é˜¶ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡ React ç”Ÿæ€ç³»ç»Ÿã€‚

---

## ğŸ“š é¡¹ç›®å¯¼èˆª

| é¡¹ç›® | æè¿° | éš¾åº¦ | è¯¦ç»†æ–‡æ¡£ |
|------|------|------|----------|
| [react_study_demo](./react_study_demo/) | React æ ¸å¿ƒçŸ¥è¯†å­¦ä¹  | â­ å…¥é—¨ | [ğŸ“– æŸ¥çœ‹æ–‡æ¡£](./react_study_demo/README.md) |
| [react_ssr](./react_ssr/) | æ‰‹æ“ SSR åŒæ„æ¸²æŸ“ | â­â­ è¿›é˜¶ | [ğŸ“– æŸ¥çœ‹æ–‡æ¡£](./react_ssr/README.md) |
| [react_ssr_next](./react_ssr_next/) | Next.js æ¡†æ¶å®æˆ˜ | â­â­â­ é«˜çº§ | [ğŸ“– æŸ¥çœ‹æ–‡æ¡£](./react_ssr_next/README.md) |

---

## ğŸ—‚ï¸ é¡¹ç›®è¯¦ç»†ä»‹ç»

### 1. React å­¦ä¹  Demo (`react_study_demo`)

> **[ğŸ“– å®Œæ•´æ–‡æ¡£](./react_study_demo/README.md)**

ä¸€ä¸ªç”¨äºå­¦ä¹  React æ ¸å¿ƒçŸ¥è¯†çš„æ¼”ç¤ºé¡¹ç›®ï¼Œæ¶µç›– Hooksã€Refã€ç»„ä»¶é€šä¿¡ã€è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰å†…å®¹ã€‚

#### æŠ€æœ¯æ ˆ
- React 18 + React Router v6
- Redux Toolkitï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
- Axiosï¼ˆHTTP è¯·æ±‚å°è£…ï¼‰
- Vite & Webpackï¼ˆåŒæ„å»ºå·¥å…·ï¼‰

#### æ¶µç›–å†…å®¹
| æ¨¡å— | å†…å®¹ |
|------|------|
| **React Hooks** | useState, useEffect, useCallback, useMemo, useRef, è‡ªå®šä¹‰ Hook |
| **Ref ç”¨æ³•** | useRef, createRef, forwardRef, useImperativeHandle |
| **ç»„ä»¶é€šä¿¡** | çˆ¶å­é€šä¿¡ã€å…„å¼Ÿé€šä¿¡ã€Contextã€Hooksä¸Classäº’æ“ä½œ |
| **è·¯ç”±** | è·¯ç”±é…ç½®ã€åµŒå¥—è·¯ç”±ã€è·¯ç”±å‚æ•°ã€ç¼–ç¨‹å¼å¯¼èˆª |
| **çŠ¶æ€ç®¡ç†** | createSliceã€createAsyncThunkã€Selectors |
| **API å°è£…** | é…ç½®åŒ– APIã€ç¼“å­˜ã€å–æ¶ˆè¯·æ±‚ã€useRequest Hook |

#### å¿«é€Ÿå¯åŠ¨
```bash
cd react_study_demo
npm install
npm run dev      # Vite å¯åŠ¨ï¼ˆæ¨èï¼‰
# æˆ–
npm run dev:webpack  # Webpack å¯åŠ¨
```

---

### 2. React SSR åŒæ„æ¸²æŸ“ (`react_ssr`)

> **[ğŸ“– å®Œæ•´æ–‡æ¡£](./react_ssr/README.md)**

ä¸€ä¸ªæ‰‹åŠ¨å®ç°çš„ React æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ•™å­¦æ¼”ç¤ºé¡¹ç›®ï¼Œæ·±å…¥è®²è§£åŒæ„åŸç†ã€‚

#### æ ¸å¿ƒåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SSR æ ¸å¿ƒä¸‰æ­¥æµç¨‹                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  æ­¥éª¤ 1ï¼šæœåŠ¡ç«¯æ¸²æŸ“                                        â”‚
â”‚  ReactDOMServer.renderToString(<App />)                  â”‚
â”‚                         â†“                                â”‚
â”‚  æ­¥éª¤ 2ï¼šåµŒå…¥æ¨¡æ¿è¿”å›                                      â”‚
â”‚  <div id="root">${html}</div>                            â”‚
â”‚  <script src="/bundle.js"></script>                      â”‚
â”‚                         â†“                                â”‚
â”‚  æ­¥éª¤ 3ï¼šå®¢æˆ·ç«¯æ°´åˆ                                        â”‚
â”‚  hydrateRoot(document.getElementById('root'), <App />)   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æŠ€æœ¯æ ˆ
- React 18 + React Router v6
- Expressï¼ˆNode.js æœåŠ¡å™¨ï¼‰
- Webpackï¼ˆå®¢æˆ·ç«¯ + æœåŠ¡ç«¯åŒé…ç½®ï¼‰
- Babelï¼ˆJSX è½¬æ¢ï¼‰

#### é¡¹ç›®äº®ç‚¹
- âœ… æ‰‹åŠ¨å®ç° SSR æ ¸å¿ƒæµç¨‹
- âœ… æ·±å…¥ç†è§£æ°´åˆï¼ˆHydrationï¼‰æœºåˆ¶
- âœ… åŒæ„è·¯ç”±å¤„ç†ï¼ˆStaticRouter / BrowserRouterï¼‰
- âœ… H5 å“åº”å¼å¸ƒå±€ï¼ˆvw å•ä½ï¼‰
- âœ… è¯¦å°½çš„æ³¨é‡Šå’Œæ–‡æ¡£

#### å¿«é€Ÿå¯åŠ¨
```bash
cd react_ssr
npm install
npm run build    # æ„å»ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯
npm start        # å¯åŠ¨æœåŠ¡
# è®¿é—® http://localhost:3000
```

---

### 3. Next.js SSR æ¡†æ¶å®æˆ˜ (`react_ssr_next`)

> **[ğŸ“– å®Œæ•´æ–‡æ¡£](./react_ssr_next/README.md)**

ä¸€ä¸ª Next.js 14 æ•™å­¦æ¼”ç¤ºé¡¹ç›®ï¼Œä½¿ç”¨ App Routerï¼Œå±•ç¤º Next.js å¦‚ä½•ç®€åŒ– SSR å¼€å‘ã€‚

#### æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| **Server Components** | é»˜è®¤ç»„ä»¶ç±»å‹ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ—  JS å‘é€åˆ°å®¢æˆ·ç«¯ |
| **Client Components** | ä½¿ç”¨ `'use client'` æŒ‡ä»¤ï¼Œæ”¯æŒäº¤äº’å’Œæµè§ˆå™¨ API |
| **App Router** | åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ï¼Œæ”¯æŒ layoutã€loadingã€error ç­‰ |
| **Route Handlers** | åˆ›å»º API ç«¯ç‚¹ï¼Œæ”¯æŒå„ç§ HTTP æ–¹æ³• |

#### å­¦ä¹ æ¨¡å—

```
ğŸ“‚ è·¯ç”±ç³»ç»Ÿ
â”œâ”€â”€ åŸºç¡€è·¯ç”±ï¼ˆæ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼‰
â”œâ”€â”€ åŠ¨æ€è·¯ç”±ï¼ˆ[param]ï¼‰
â””â”€â”€ åµŒå¥—è·¯ç”±ï¼ˆlayout.jsxï¼‰

ğŸ“‚ æ•°æ®è·å–
â”œâ”€â”€ æœåŠ¡ç«¯è·å–ï¼ˆasync Server Componentï¼‰
â””â”€â”€ å®¢æˆ·ç«¯è·å–ï¼ˆuseEffect + useStateï¼‰

ğŸ“‚ ç»„ä»¶ç±»å‹
â”œâ”€â”€ Server Componentsï¼ˆé»˜è®¤ï¼‰
â””â”€â”€ Client Componentsï¼ˆ'use client'ï¼‰

ğŸ“‚ API Routes
â””â”€â”€ Route Handlersï¼ˆGET/POST/PUT/DELETEï¼‰
```

#### å¿«é€Ÿå¯åŠ¨
```bash
cd react_ssr_next
npm install
npm run dev
# è®¿é—® http://localhost:3000
```

---

## ğŸ¯ æ¨èå­¦ä¹ è·¯å¾„

```
          Step 1                    Step 2                    Step 3
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚         â”‚               â”‚         â”‚               â”‚
    â”‚ react_study   â”‚   â†’     â”‚  react_ssr    â”‚   â†’     â”‚ react_ssr     â”‚
    â”‚    _demo      â”‚         â”‚  (æ‰‹æ“ SSR)    â”‚         â”‚    _next      â”‚
    â”‚               â”‚         â”‚               â”‚         â”‚               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         å…¥é—¨                      è¿›é˜¶                      é«˜çº§
    
    - React åŸºç¡€          - SSR æ ¸å¿ƒåŸç†           - Next.js æ¡†æ¶
    - Hooks ä½¿ç”¨          - renderToString         - App Router
    - çŠ¶æ€ç®¡ç†            - hydrateRoot            - Server Components
    - è·¯ç”±åŸºç¡€            - åŒæ„æ³¨æ„äº‹é¡¹            - æ•°æ®è·å–ç­–ç•¥
```

### ä¸ºä»€ä¹ˆè¿™æ ·å®‰æ’ï¼Ÿ

1. **å…ˆå­¦åŸºç¡€** (`react_study_demo`)
   - ç†Ÿæ‚‰ React æ ¸å¿ƒæ¦‚å¿µ
   - æŒæ¡ Hooksã€çŠ¶æ€ç®¡ç†ã€è·¯ç”±ç­‰åŸºç¡€çŸ¥è¯†
   - ä¸ºåç»­å­¦ä¹ æ‰“ä¸‹æ‰å®åŸºç¡€

2. **å†ç†è§£åŸç†** (`react_ssr`)
   - æ‰‹åŠ¨å®ç° SSRï¼Œæ·±å…¥ç†è§£åº•å±‚æœºåˆ¶
   - æ˜ç™½æœåŠ¡ç«¯æ¸²æŸ“å’Œå®¢æˆ·ç«¯æ°´åˆçš„è¿‡ç¨‹
   - ç†è§£åŒæ„å¼€å‘çš„æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ

3. **æœ€åå­¦æ¡†æ¶** (`react_ssr_next`)
   - äº†è§£ Next.js å¦‚ä½•å°è£… SSR å¤æ‚æ€§
   - å­¦ä¹  Server Components ç­‰æ–°ç‰¹æ€§
   - å¯¹æ¯”æ¡†æ¶å®ç°ä¸æ‰‹åŠ¨å®ç°çš„å·®å¼‚

---

## ğŸ”§ æŠ€æœ¯æ ˆæ€»è§ˆ

| æŠ€æœ¯ | react_study_demo | react_ssr | react_ssr_next |
|------|:----------------:|:---------:|:--------------:|
| React 18 | âœ… | âœ… | âœ… |
| TypeScript | âŒ | âŒ | âŒ |
| React Router | âœ… | âœ… | âŒ (App Router) |
| Redux Toolkit | âœ… | âŒ | âŒ |
| Express | âŒ | âœ… | âŒ |
| Next.js | âŒ | âŒ | âœ… |
| Webpack | âœ… | âœ… | âŒ |
| Vite | âœ… | âŒ | âŒ |
| SSR | âŒ | âœ… (æ‰‹åŠ¨) | âœ… (æ¡†æ¶) |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.17.0
- npm >= 8.0.0

### å…‹éš†é¡¹ç›®

```bash
git clone <repo-url>
cd pc-h5-react-demo
```

### å¯åŠ¨å„é¡¹ç›®

```bash
# 1. React åŸºç¡€å­¦ä¹ 
cd react_study_demo && npm install && npm run dev

# 2. æ‰‹æ“ SSR
cd react_ssr && npm install && npm run build && npm start

# 3. Next.js
cd react_ssr_next && npm install && npm run dev
```

---

## ğŸ“ å¯¹æ¯”æ€»ç»“

### SSR vs CSR

| ç‰¹æ€§ | SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ | CSRï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰ |
|------|------------------|------------------|
| é¦–å±æ¸²æŸ“ | å¿« âš¡ | æ…¢ |
| SEO | å‹å¥½ âœ… | ä¸å‹å¥½ |
| æœåŠ¡å™¨å‹åŠ› | è¾ƒå¤§ | è¾ƒå° |
| äº¤äº’æ—¶é—´ | éœ€ç­‰å¾…æ°´åˆ | JS åŠ è½½åå³å¯ |
| å¼€å‘å¤æ‚åº¦ | è¾ƒé«˜ | è¾ƒä½ |

### æ‰‹æ“ SSR vs Next.js

| æ–¹é¢ | æ‰‹æ“ SSR | Next.js |
|------|----------|---------|
| æœåŠ¡ç«¯æ¸²æŸ“ | æ‰‹åŠ¨ `renderToString` | è‡ªåŠ¨å¤„ç† |
| å®¢æˆ·ç«¯æ°´åˆ | æ‰‹åŠ¨ `hydrateRoot` | è‡ªåŠ¨å¤„ç† |
| è·¯ç”±é…ç½® | React Router æ‰‹åŠ¨é…ç½® | åŸºäºæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ |
| æ„å»ºé…ç½® | ä¸¤å¥— Webpack é…ç½® | é›¶é…ç½® |
| ä»£ç åˆ†å‰² | æ‰‹åŠ¨é…ç½® | è‡ªåŠ¨ä¼˜åŒ– |
| å­¦ä¹ ä»·å€¼ | ç†è§£åŸç† ğŸ’¡ | ç”Ÿäº§å®è·µ ğŸ­ |

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev)
- [React Router æ–‡æ¡£](https://reactrouter.com)
- [Redux Toolkit æ–‡æ¡£](https://redux-toolkit.js.org)
- [Next.js å®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)

### SSR ç›¸å…³
- [React Server APIs](https://react.dev/reference/react-dom/server)
- [hydrateRoot API](https://react.dev/reference/react-dom/client/hydrateRoot)
- [React Server Components](https://react.dev/reference/rsc/server-components)

---

## ğŸ“„ License

MIT

---

**Happy Coding! ğŸ‰**

å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æå‡º Issue è®¨è®ºã€‚

